import { describe, test, expect } from 'vitest'

import { round } from './round.js'

describe('round', () => {
	test.each([
		[10.000000, 0, '10'],
		[10.000000, 5, '10'],
		[10.499999, 0, '10'],
		[10.5, 0, '11'],
		[10.499999, 1, '10.5'],
		[10.5, 1, '10.5'],
		[10.3, 2, '10.3'],
		[10.3001, 2, '10.3'],
		[10.33, 2, '10.33'],
		[10.333, 2, '10.33'],
		[10.333333333, 2, '10.33'],
		[10.00333333333, 2, '10'],
		[10, 2, '10'],
		[10.3, 4, '10.3'],
		[10.33, 4, '10.33'],
		[10.333, 4, '10.333'],
		[10.333333333, 4, '10.3333'],
		[10.00333333333, 4, '10.0033'],
		[10, 4, '10'],
	])('round(%s, %s) = %s', (value, precision, expectedValue) => {
		expect(round(value, precision)).toBe(expectedValue)
	})
})
